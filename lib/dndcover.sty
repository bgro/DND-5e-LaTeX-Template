\ExplSyntaxOn


\keys_define:nn { dnd / cover }
  {
 
    image .tl_set:N         = \l__dnd_cover_image,
    image .initial:n        = img/cover,
    image .value_required:n = true,

    frame .tl_set:N         = \l__wfrp_cover_frame,
    frame .initial:n        = img/wfrp_fan_gen_cover_frame,
    frame .value_required:n = true,

    logo .tl_set:N         = \l__dnd_cover_logo,
    logo .initial:n        = img/wfrp_fan_gen_font_logo,
    logo .value_required:n = true,

    title_color .tl_set:N         = \l__dnd_cover_title_color,
    title_color .initial:n        = White,
    title_color .value_required:n = true,
  }
    

\NewDocumentCommand{\DndMakeCover}{ o }
  {
    \keys_set:nn { dnd / cover } { #1 }

    \onecolumn
    \thispagestyle{empty}
    \begin{tikzpicture}[remember~picture,overlay]
      \node[inner~sep=0pt] at (current~page.center) {\includegraphics[width=\paperwidth,height=\paperheight]{\l__dnd_cover_image}};
    \end{tikzpicture}
    \begin{tikzpicture}[remember~picture,overlay]
      \node[inner~sep=0pt] at (current~page.center) {\includegraphics[width=\paperwidth,height=\paperheight]{\l__wfrp_cover_frame}};
    \end{tikzpicture}


    \begin{center}
        \vspace*{20mm}\includegraphics[width=10cm]{\l__dnd_cover_logo}\\*\vspace*{15mm}
        \fontsize{24pt}{24pt}
        \selectfont
        {\MakeUppercase{Title}}\\*
        \LARGE\vfill
        \fontsize{18pt}{18pt}
        {\textbf{Subtitle}}
    \end{center}
    \clearpage
    \twocolumn%
    
  }                                         