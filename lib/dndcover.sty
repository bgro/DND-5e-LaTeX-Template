\ExplSyntaxOn


\keys_define:nn { dnd / cover }
  {
 
    image .tl_set:N         = \l__dnd_cover_image,
    image .initial:n        = img/cover,
    image .value_required:n = true,

    frame .tl_set:N         = \l__wfrp_cover_frame,
    frame .initial:n        = img/wfrp_fan_gen_cover_frame,
    frame .value_required:n = true,

    logo .tl_set:N         = \l__dnd_cover_logo,
    logo .initial:n        = img/wfrp_fan_gen_font_logo,
    logo .value_required:n = true,

    title .tl_set:N         = \l__dnd_cover_title,
    title .initial:n        = Title,
    title .value_required:n = true,

    title_color .tl_set:N         = \l__dnd_cover_title_color,
    title_color .initial:n        = white,
    title_color .value_required:n = true,

    title_font_size .tl_set:N         = \l__dnd_title_font_size,
    title_font_size .initial:n        = 32,
    title_font_size .value_required:n = true,

    subtitle .tl_set:N         = \l__dnd_cover_subtitle,
    subtitle .initial:n        = Subtitle,
    subtitle .value_required:n = true,

    subtitle_color .tl_set:N         = \l__dnd_cover_subtitle_color,
    subtitle_color .initial:n        = white,
    subtitle_color .value_required:n = true,
    
    subtitle_font_size .tl_set:N         = \l__dnd_subtitle_font_size,
    subtitle_font_size .initial:n        = 24,
    subtitle_font_size .value_required:n = true,
  }
    

\NewDocumentCommand{\DndMakeCover}{ o }
  {
    \keys_set:nn { dnd / cover } { #1 }

    \onecolumn
    \thispagestyle{empty}
    \begin{tikzpicture}[remember~picture,overlay]
      \node[inner~sep=0pt] at (current~page.center) {\includegraphics[width=\paperwidth,height=\paperheight]{\l__dnd_cover_image}};
    \end{tikzpicture}
    \begin{tikzpicture}[remember~picture,overlay]
      \node[inner~sep=0pt] at (current~page.center) {\includegraphics[width=\paperwidth,height=\paperheight]{\l__wfrp_cover_frame}};
    \end{tikzpicture}


    \begin{center}
        \vspace*{10mm}\includegraphics[width=12cm]{\l__dnd_cover_logo}\\*\vspace*{5mm}
        \selectfont
        {\color{\l__dnd_cover_title_color}\fontsize{\l__dnd_title_font_size}{\l__dnd_title_font_size}\selectfont \l__dnd_cover_title}\\*
        \vfill
        
        {\color{\l__dnd_cover_subtitle_color}{\fontsize{\l__dnd_subtitle_font_size}{\l__dnd_subtitle_font_size}\selectfont  \l__dnd_cover_subtitle}}
    \end{center}
    \clearpage
    \twocolumn%
    
  }                                         